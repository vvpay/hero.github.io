# hero.github.io

接口文档
=

1.查询余额
-
i.请求地址：网关地址 + /open/account/apply/query/balance<br>
ii.请求方式：POST <br>
iii.Content-Type：application/json <br>

---
`请求参数`
参数名称  | 必须  | 数据类型 | 示例| 参数说明
 ---- | ----- | ------------  | ------    | ------
 merchantNo  | 是 | 字符串 | 20200113185052721173545318 | 商户编号
 ts  | 是 | 整数 | 1575948756 | 商户订单时间戳（秒级）
 sign  | 是 | 字符串 | 2A1FEB481909CBE0CA823D6FA31... | 参数签名，请按照签名算法生成
 
 ---
 `响应参数`(T成功必须返回)
 参数名称  | 必须  | 数据类型 | 示例| 参数说明
 ---- | ----- | ------  | ------    | ------
 code  | 是 | 整数 | 200 | 响应代码
 comment  | 是 | 字符串 | 成功 | 注释
 merchantNo  | 是 | 字符串 | 20200113185052721173545318 | 商户编号
 balance | T | 整数 | 1000 | 余额; 分
 frozenAmt | T | 整数 | 100 | 冻结金额; 分
 sign | T | 字符串 | 2A1FEB481909CBE0CA82 | 参数签名
 
  ---
 `响应代码说明`
 code  | comment  
 ---- | -----
 200 | 成功	
 500 | 系统其他错误	系统其他错误(保留请求与响应报文联系客服)
 100 | 账户错误	
 102 | 密钥不存在	前往管理后台生成
 103 | 账号配置异常	联系客服
 104 | 账号设置异常	联系客服
 105 | 签名异常	
 106 | 时间戳错误	订单时间戳超出范围
 112 | IP未报备	


2.下发申请
-
i.请求地址：网关地址 + /open/account/apply/create/issue-vie<br>
ii.请求方式：POST <br>
iii.Content-Type：application/json <br>

---
`请求参数`
参数名称  | 必须  | 数据类型 | 示例| 参数说明
 ---- | ----- | ------------  | ------    | ------
 merchantNo  | 是 | 字符串 | 20200113185052721173545318 | 商户编号
 orderNo  | 否 | 字符串(<50) | 123456789000 | 商户订单编号
 bankName  | 是 | 字符串(<50) | 中国工商银行 | 银行名称
 bankNo  | 是 | 字符串 | 628888888888 | 银行卡号
 bankUser  | 是 | 字符串(<50) | 张三 | 持卡人
 passwd  | 是 | 字符串(<50) | 2A1FEB481909CBE0CA823D631 | md5(资金密码) 小写
 amount  | 是 | 整数 | 1000 | 申请金额; 单位: 分
 ts  | 是 | 整数 | 1575948756 | 商户订单时间戳（秒级）
 sign  | 是 | 字符串 | 2A1FEB481909CBE0CA823D6FA31... | 参数签名，请按照签名算法生成
 
  ---
 `响应参数`(T成功必须返回)
 参数名称  | 必须  | 数据类型 | 示例| 参数说明
 ---- | ----- | ------  | ------    | ------
 code  | 是 | 整数 | 200 | 响应代码
 comment  | 是 | 字符串 | 成功 | 注释
 merchantNo  | 是 | 字符串 | 20200113185052721173545318 | 商户编号
 applyNo  | T | 字符串 | 2020011123123123 | 申请编号
 orderNo  | 否 | 字符串 | 123456789000 | 商户订单编号(原样返回)
 bankNo  | T | 字符串 | 628888888888 | 银行卡号(原样返回)
 bankName  | T | 字符串(<50) | 中国工商银行 | 银行名称(原样返回)
 bankUser  | T | 字符串(<50) | 张三 | 持卡人(原样返回)
 type  | T | 字符串 | WITHDRAW | 申请类型
 amount | T | 整数 | 10000 | 申请金额; 分
 realAmount | T | 整数 | 9700 | 实际到账金额; 分
 serviceCharge | T | 整数 | 300 | 服务费; 分
 applyStatus | T | 整数 | 20 | 申请状态(参考申请状态)
 voucherUrl | 否 | 字符串 | https://*.jpg | 凭证地址
 sign | T | 字符串 | 2A1FEB481909CBE0CA82 | 参数签名
 
  ---
 `响应代码说明`
 code  | comment  
 ---- | -----
 200 | 成功	
 999 | 系统维护中	
 500 | 系统其他错误	系统其他错误(保留请求与响应报文联系客服)
 100 | 账户错误	
 101 | 账户状态异常	联系客服
 102 | 密钥不存在	前往管理后台生成
 103 | 账号配置异常	联系客服
 104 | 账号设置异常	联系客服
 105 | 签名异常	
 106 | 时间戳错误	订单时间戳超出范围
 107 | 订单号重复		
 109 | 金额不在指定范围	
 112 | IP未报备	
 113 | 订单号未报备(下发订单编号前缀未报备)
 114 | 密码校验未通过
 115 | 账户资金异常	联系管理员
 116 | 余额不足
 117 | 账户余额同步失败	联系管理员



 ---
 `申请状态说明（applyStatus）`<br>
 值  | 说明  
 ---- | -----   
 11  | 等待处理
 12  | 处理中
 13  | 支付中
 -14  | 已取消
 20  | 已完成/成功




3.下发查询
-
i.请求地址：网关地址 + /open/account/apply/query/issue-vie<br>
ii.请求方式：POST <br>
iii.Content-Type：application/json <br>

---
`请求参数`
参数名称  | 必须  | 数据类型 | 示例| 参数说明
 ---- | ----- | ------------  | ------    | ------
 merchantNo  | 是 | 字符串 | 20200113185052721173545318 | 商户编号
 orderNo  | 否 | 字符串(<50) | 123456 | 商户订单编号(与applyNo必传一个)
 applyNo  | 否 | 字符串(<50) | 123456(优先查询,不与orderNo同步) | 申请编号(与orderNo必传一个)
 ts  | 是 | 整数 | 1575948756 | 当前时间戳（秒级）
 sign  | 是 | 字符串 | 2A1FEB481909CBE0CA823D6FA31... | 参数签名，请按照签名算法生成
 
 
   ---
 `响应参数`(T成功必须返回)
 参数名称  | 必须  | 数据类型 | 示例| 参数说明
 ---- | ----- | ------  | ------    | ------
 code  | 是 | 整数 | 200 | 响应代码
 comment  | 是 | 字符串 | 成功 | 注释
 merchantNo  | 是 | 字符串 | 20200113185052721173545318 | 商户编号
 applyNo  | T | 字符串 | 2020011123123123 | 申请编号
 orderNo  | 否 | 字符串 | 123456789000 | 商户订单编号(原样返回)
 bankNo  | T | 字符串 | 628888888888 | 银行卡号(原样返回)
 bankName  | T | 字符串(<50) | 中国工商银行 | 银行名称(原样返回)
 bankUser  | T | 字符串(<50) | 张三 | 持卡人(原样返回)
 type  | T | 字符串 | WITHDRAW | 申请类型
 amount | T | 整数 | 10000 | 申请金额; 分
 realAmount | T | 整数 | 9700 | 实际到账金额; 分
 serviceCharge | T | 整数 | 300 | 服务费; 分
 applyStatus | T | 整数 | 20 | 申请状态(参考申请状态)
 voucherUrl | 否 | 字符串 | https://*.jpg | 凭证地址
 sign | T | 字符串 | 2A1FEB481909CBE0CA82 | 参数签名
 
 
   ---
 `响应代码说明`
 code  | comment  
 ---- | -----
 200 | 成功	
 999 | 系统维护中	
 500 | 系统其他错误	系统其他错误(保留请求与响应报文联系客服)
 100 | 账户错误	
 102 | 密钥不存在	前往管理后台生成
 103 | 账号配置异常	联系客服
 104 | 账号设置异常	联系客服
 105 | 签名异常	
 106 | 时间戳错误	订单时间戳超出范围
 110 | 订单不存在		
 111 | 订单编号不可为空	订单编号与申请编号不能同时为空	
 112 | IP未报备	


